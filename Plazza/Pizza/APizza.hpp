///////////////////////////////////////////////////////////////////////////////
// Header guard
///////////////////////////////////////////////////////////////////////////////
#pragma once

///////////////////////////////////////////////////////////////////////////////
// Dependencies
///////////////////////////////////////////////////////////////////////////////
#include "Pizza/IPizza.hpp"
#include "Pizza/Ingredients.hpp"
#include <chrono>
#include <vector>

///////////////////////////////////////////////////////////////////////////////
// Namespace Plazza
///////////////////////////////////////////////////////////////////////////////
namespace Plazza
{

///////////////////////////////////////////////////////////////////////////////
/// \brief
///
///////////////////////////////////////////////////////////////////////////////
class APizza : public IPizza
{
protected:
    ///////////////////////////////////////////////////////////////////////////
    //
    ///////////////////////////////////////////////////////////////////////////
    static double s_cookingTimeMultiplier;

protected:
    ///////////////////////////////////////////////////////////////////////////
    //
    ///////////////////////////////////////////////////////////////////////////
    Type m_type;                            //<!
    Size m_size;                            //<!
    Seconds m_baseCookingTime;              //<!
    std::vector<Ingredient> m_ingredients;  //<!
    std::string m_name;                     //<!

public:
    ///////////////////////////////////////////////////////////////////////////
    /// \brief
    ///
    /// \param type
    /// \param size
    /// \param baseCookingTime
    /// \param ingredients
    /// \param name
    ///
    ///////////////////////////////////////////////////////////////////////////
    APizza(
        IPizza::Type type,
        IPizza::Size size,
        Seconds baseCookingTime,
        const std::vector<Ingredient>& ingredients,
        const std::string& name
    );

    ///////////////////////////////////////////////////////////////////////////
    /// \brief
    ///
    ///////////////////////////////////////////////////////////////////////////
    virtual ~APizza() = default;

private:
    ///////////////////////////////////////////////////////////////////////////
    /// \brief
    ///
    /// \param size
    ///
    /// \return
    ///
    ///////////////////////////////////////////////////////////////////////////
    static std::string SizeToString(IPizza::Size size);

public:
    ///////////////////////////////////////////////////////////////////////////
    /// \brief
    ///
    /// \return
    ///
    ///////////////////////////////////////////////////////////////////////////
    virtual uint16_t Pack(void) const override;

    ///////////////////////////////////////////////////////////////////////////
    /// \brief
    ///
    /// \return
    ///
    ///////////////////////////////////////////////////////////////////////////
    virtual Type GetType(void) const override;

    ///////////////////////////////////////////////////////////////////////////
    /// \brief
    ///
    /// \return
    ///
    ///////////////////////////////////////////////////////////////////////////
    virtual Size GetSize(void) const override;

    ///////////////////////////////////////////////////////////////////////////
    /// \brief
    ///
    /// \return
    ///
    ///////////////////////////////////////////////////////////////////////////
    virtual Milliseconds GetCookingTime(void) const override;

    ///////////////////////////////////////////////////////////////////////////
    /// \brief
    ///
    /// \return
    ///
    ///////////////////////////////////////////////////////////////////////////
    virtual  const std::vector<Ingredient>& GetIngredients(void) const override;

    ///////////////////////////////////////////////////////////////////////////
    /// \brief
    ///
    /// \return
    ///
    ///////////////////////////////////////////////////////////////////////////
    virtual std::string ToString(void) const override;

public:
    ///////////////////////////////////////////////////////////////////////////
    /// \brief
    ///
    /// \param multiplier
    ///
    ///////////////////////////////////////////////////////////////////////////
    static void SetCookingTimeMultiplier(double multiplier);

    ///////////////////////////////////////////////////////////////////////////
    /// \brief
    ///
    /// \return
    ///
    ///////////////////////////////////////////////////////////////////////////
    static double GetCookingTimeMultiplier(void);
};

} // !namespace Plazza
